<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="card shadow-effect bg-secondary-theme">
        <div class="card-body text-center">
        <h3 class="text-theme-center">All blog posts</h3>
          <p> Aqui vc gerencia seus posts</p>


        <button class="btn btn-info bg-theme" routerLink="/posts/new"> Adicionar novo</button>
        <button class="btn btn-warning ml-2" routerLink='/'> Volta para o Dashboard</button>

        </div>
      </div>
    </div>
  </div>

    <div class="row">
      <div class="col-md-12">
        <div class="card shadow-effect">
          <div class="card-body">

                <table class="table row-border hover">
                      <thead>
                         <tr>
                          <th> Nro </th>
                          <th> Imagem </th>
                          <th> Titulo </th>
                          <th> Except </th>
                          <th> Categoria </th>
                          <th> Data </th>
                          <th> Ações </th>

                        </tr>
                      </thead>

                      <tbody>
                          <tr *ngFor="let x of post$|async; let i=index">
                            <td [width]="10">{{i+1}}</td>
                            <td [width]="10"><img src="{{x.postImgPath}}" class="img img-fluid"></td>
                            <td>{{x.title}}</td>
                            <td>{{x.except}}</td>
                            <td>{{x.category.category}}</td>
                            <td>{{x.createdAt.seconds * 1000 | date: 'dd/MM/yyyy HH:mm'}}</td>
                            <td>
                              <button class= "btn btn-sm btn-warning" routerLink="/posts/new"  [queryParams]="{id: x.id}">Edit</button>

                              <button class= "btn btn-sm btn-danger ml-2" (click)="onDelete(x.postImgPath, x.id)">Delete</button>

                              <button *ngIf='!x.isFeatured'class= "btn btn-sm btn-success ml-2" (click)="onFeatured(x.id, true)">Mark</button>

                              <button *ngIf ='x.isFeatured' class= "btn btn-sm btn-info ml-2" (click)="onFeatured(x.id, false)">Remove</button>

                            </td>
                          </tr>
                      </tbody>
                </table>

          </div>
        </div>
      </div>
    </div>


</div>
